parameter (or :_entries (pair %_Liq_entry_updateMaxDelay int string) (or (unit %_Liq_entry_ping) (or (pair %_Liq_entry_withdraw key_hash mumav) (or (unit %_Liq_entry_receiveProperty) (or (key_hash %_Liq_entry_setReceiper) (address %_Liq_entry_changeOwner))))));
storage (pair :storage (timestamp %last_ping) (pair (int %delay) (pair (address %owner) (key_hash %property_recipient))));
code { DUP ;
       DIP { CDR @storage_slash_1 } ;
       CAR @parameter_slash_2 ;
       LAMBDA @check_sender address unit { RENAME @owner_slash_3 ; SENDER ; { DIP { DUP @owner } ; SWAP } ; COMPARE ; NEQ ; IF { SENDER ;
            PUSH string "Not allowed operation for " ;
            PAIR ;
            FAILWITH }
          { UNIT } ; DIP { DROP } } ;
       { DIP { DUP @parameter } ; SWAP } ;
       IF_LEFT { RENAME @_delay_timeType_slash_5 ;
                 { DIP { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } } ; SWAP } ;
                 { DIP { DUP } ; SWAP } ;
                 CAR @delay ;
                 { DIP { { DIP { DUP } ; SWAP } } ; SWAP } ;
                 CDR @timeType ;
                 { DIP { { DIP { { DIP { { DIP { DUP @check_sender } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } ;
                 { DIP { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } } ; SWAP } ;
                 { CDR ; CDR ; CAR %owner } ;
                 EXEC ;
                 DROP ;
                 PUSH string "year" ;
                 { DIP { DUP @timeType } ; SWAP } ;
                 COMPARE ;
                 EQ ;
                 IF { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } ;
                      DUP ;
                      CAR %last_ping ;
                      SWAP ;
                      CDR ;
                      CDR ;
                      PUSH int 60 ;
                      PUSH int 60 ;
                      PUSH int 24 ;
                      PUSH int 365 ;
                      { DIP { { DIP { { DIP { { DIP { { DIP { { DIP { { DIP { DUP @delay } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } ;
                      MUL ;
                      MUL ;
                      MUL ;
                      MUL ;
                      PAIR %delay ;
                      SWAP ;
                      PAIR %last_ping ;
                      NIL operation ;
                      PAIR }
                    { PUSH string "month" ;
                      { DIP { DUP @timeType } ; SWAP } ;
                      COMPARE ;
                      EQ ;
                      IF { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } ;
                           DUP ;
                           CAR %last_ping ;
                           SWAP ;
                           CDR ;
                           CDR ;
                           PUSH int 60 ;
                           PUSH int 60 ;
                           PUSH int 24 ;
                           PUSH int 30 ;
                           { DIP { { DIP { { DIP { { DIP { { DIP { { DIP { { DIP { DUP @delay } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } ;
                           MUL ;
                           MUL ;
                           MUL ;
                           MUL ;
                           PAIR %delay ;
                           SWAP ;
                           PAIR %last_ping ;
                           NIL operation ;
                           PAIR }
                         { PUSH string "day" ;
                           { DIP { DUP @timeType } ; SWAP } ;
                           COMPARE ;
                           EQ ;
                           IF { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } ;
                                DUP ;
                                CAR %last_ping ;
                                SWAP ;
                                CDR ;
                                CDR ;
                                PUSH int 60 ;
                                PUSH int 60 ;
                                PUSH int 24 ;
                                { DIP { { DIP { { DIP { { DIP { { DIP { { DIP { DUP @delay } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } ;
                                MUL ;
                                MUL ;
                                MUL ;
                                PAIR %delay ;
                                SWAP ;
                                PAIR %last_ping ;
                                NIL operation ;
                                PAIR }
                              { PUSH string "hour" ;
                                { DIP { DUP @timeType } ; SWAP } ;
                                COMPARE ;
                                EQ ;
                                IF { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } ;
                                     DUP ;
                                     CAR %last_ping ;
                                     SWAP ;
                                     CDR ;
                                     CDR ;
                                     PUSH int 60 ;
                                     PUSH int 60 ;
                                     { DIP { { DIP { { DIP { { DIP { { DIP { DUP @delay } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } ;
                                     MUL ;
                                     MUL ;
                                     PAIR %delay ;
                                     SWAP ;
                                     PAIR %last_ping ;
                                     NIL operation ;
                                     PAIR }
                                   { PUSH string "minute" ;
                                     { DIP { DUP @timeType } ; SWAP } ;
                                     COMPARE ;
                                     EQ ;
                                     IF { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } ;
                                          DUP ;
                                          CAR %last_ping ;
                                          SWAP ;
                                          CDR ;
                                          CDR ;
                                          PUSH int 60 ;
                                          { DIP { { DIP { { DIP { { DIP { DUP @delay } ; SWAP } } ; SWAP } } ; SWAP } } ; SWAP } ;
                                          MUL ;
                                          PAIR %delay ;
                                          SWAP ;
                                          PAIR %last_ping ;
                                          NIL operation ;
                                          PAIR }
                                        { DUP @timeType ;
                                          PUSH string "Unsupported time type " ;
                                          PAIR ;
                                          FAILWITH } } } } } ;
                 DIP { DROP ; DROP ; DROP ; DROP } }
               { IF_LEFT { RENAME @__slash_9 ;
                           { DIP { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } } ; SWAP } ;
                           { DIP { { DIP { DUP @check_sender } ; SWAP } } ; SWAP } ;
                           { DIP { DUP @storage } ; SWAP } ;
                           { CDR ; CDR ; CAR %owner } ;
                           EXEC ;
                           DROP ;
                           DIP { DROP } ;
                           CDR ;
                           NOW ;
                           PAIR %last_ping ;
                           NIL operation ;
                           PAIR }
                         { IF_LEFT { RENAME @_dest_amount_slash_11 ;
                                     { DIP { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } } ; SWAP } ;
                                     { DIP { { DIP { DUP @check_sender } ; SWAP } } ; SWAP } ;
                                     { DIP { DUP @storage } ; SWAP } ;
                                     { CDR ; CDR ; CAR %owner } ;
                                     EXEC ;
                                     DROP ;
                                     NIL operation ;
                                     { DIP { { DIP { DUP } ; SWAP } } ; SWAP } ;
                                     CAR @dest ;
                                     IMPLICIT_ACCOUNT ;
                                     { DIP { { DIP { { DIP { DUP } ; SWAP } } ; SWAP } } ; SWAP } ;
                                     DIP { DIP { DIP { DIP { DROP } } } } ;
                                     CDR @amount ;
                                     UNIT ;
                                     TRANSFER_TOKENS ;
                                     CONS ;
                                     PAIR }
                                   { IF_LEFT { RENAME @__slash_15 ;
                                               { DIP { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } } ; SWAP } ;
                                               { DIP { { DIP { DUP @check_sender } ; SWAP } } ; SWAP } ;
                                               { DIP { DUP @storage } ; SWAP } ;
                                               { CDR ; CDR ; CDR %property_recipient } ;
                                               IMPLICIT_ACCOUNT ;
                                               ADDRESS ;
                                               EXEC ;
                                               DROP ;
                                               NOW ;
                                               { DIP { DUP @storage } ; SWAP } ;
                                               { CDR ; CAR %delay } ;
                                               { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } ;
                                               CAR %last_ping ;
                                               ADD ;
                                               COMPARE ;
                                               LT ;
                                               IF { DUP @storage ;
                                                    NIL operation ;
                                                    { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } ;
                                                    { CDR ; CDR ; CDR %property_recipient } ;
                                                    IMPLICIT_ACCOUNT ;
                                                    BALANCE ;
                                                    UNIT ;
                                                    TRANSFER_TOKENS ;
                                                    CONS ;
                                                    PAIR }
                                                  { NOW ;
                                                    PUSH string "Too early " ;
                                                    PAIR ;
                                                    FAILWITH } ;
                                               DIP { DROP ; DROP } }
                                             { IF_LEFT { RENAME @recipient_slash_17 ;
                                                         { DIP { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } } ; SWAP } ;
                                                         { DIP { { DIP { DUP @check_sender } ; SWAP } } ; SWAP } ;
                                                         { DIP { DUP @storage } ; SWAP } ;
                                                         { CDR ; CDR ; CAR %owner } ;
                                                         EXEC ;
                                                         DROP ;
                                                         DUP ;
                                                         CAR %last_ping ;
                                                         SWAP ;
                                                         CDR ;
                                                         DUP ;
                                                         CAR %delay ;
                                                         SWAP ;
                                                         CDR ;
                                                         CAR %owner ;
                                                         { DIP { { DIP { { DIP { DUP } ; SWAP } } ; SWAP } } ; SWAP } ;
                                                         DIP { DIP { DIP { DIP { DROP } } } } ;
                                                         SWAP ;
                                                         PAIR %owner %property_recipient ;
                                                         SWAP ;
                                                         PAIR %delay ;
                                                         SWAP ;
                                                         PAIR %last_ping ;
                                                         NIL operation ;
                                                         PAIR }
                                                       { RENAME @new_owner_slash_19 ;
                                                         { DIP { { DIP { { DIP { DUP @storage } ; SWAP } } ; SWAP } } ; SWAP } ;
                                                         { DIP { { DIP { DUP @check_sender } ; SWAP } } ; SWAP } ;
                                                         { DIP { DUP @storage } ; SWAP } ;
                                                         { CDR ; CDR ; CAR %owner } ;
                                                         EXEC ;
                                                         DROP ;
                                                         DUP ;
                                                         CAR %last_ping ;
                                                         SWAP ;
                                                         CDR ;
                                                         DUP ;
                                                         CAR %delay ;
                                                         SWAP ;
                                                         CDR ;
                                                         CDR %property_recipient ;
                                                         { DIP { { DIP { { DIP { DUP } ; SWAP } } ; SWAP } } ; SWAP } ;
                                                         DIP { DIP { DIP { DIP { DROP } } } } ;
                                                         PAIR %owner %property_recipient ;
                                                         SWAP ;
                                                         PAIR %delay ;
                                                         SWAP ;
                                                         PAIR %last_ping ;
                                                         NIL operation ;
                                                         PAIR } } } } } ;
       DIP { DROP ; DROP ; DROP } }